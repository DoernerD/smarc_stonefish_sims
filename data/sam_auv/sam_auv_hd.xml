<scenario>
<robot name="$(param robot_name)" fixed="false" self_collisions="false">

    <base_link name="Vehicle" type="compound" physics="submerged">
        <external_part name="Hull" type="model" physics="submerged">
            <physical>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Hull.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </physical>
            <visual>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Hull.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </visual>
            <material name="Fiberglass"/>
            <look name="yellow"/>
            <compound_transform rpy="3.1416 0.0 0.0" xyz="0.0 0.0 0.0"/>
            <mass value="5.4"/>
            <!-- <cg xyz="-0.419064 0.002501 0.000001" rpy="0.0 0.0 0.0"/> -->
        </external_part>
        <external_part name="RailBottomLeft" type="model" physics="submerged">
            <physical>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Rail_bottom_left.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </physical>
            <visual>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Rail_bottom_left.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </visual>
            <material name="Neutral"/>
            <look name="gray"/>
            <compound_transform rpy="3.1416 0.0 0.0" xyz="0.0 0.0 0.0"/>
        </external_part>
        <external_part name="RailBottomRight" type="model" physics="submerged">
            <physical>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Rail_bottom_right.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </physical>
            <visual>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Rail_bottom_right.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </visual>
            <material name="Neutral"/>
            <look name="gray"/>
            <compound_transform rpy="3.1416 0.0 0.0" xyz="0.0 0.0 0.0"/>
        </external_part>
        <external_part name="RailTop" type="model" physics="submerged">
            <physical>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Rail_top.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </physical>
            <visual>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Rail_top.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </visual>
            <material name="Neutral"/>
            <look name="gray"/>
            <compound_transform rpy="3.1416 0.0 0.0" xyz="0.0 0.0 0.0"/>
        </external_part>
        <external_part name="NoseDummy" type="model" physics="submerged">
            <physical>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Nose_dummy.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </physical>
            <visual>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Nose_dummy.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </visual>
            <material name="Neutral"/>
            <look name="gray"/>
            <compound_transform rpy="3.1416 0.0 0.0" xyz="0.0 0.0 0.0"/>
        </external_part>
        <external_part name="Sonars" type="model" physics="surface">
            <physical>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Sonars.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </physical>
            <visual>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Sonars.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </visual>
            <material name="Neutral"/>
            <look name="gray"/>
            <compound_transform rpy="3.1416 0.0 0.0" xyz="0.0 0.0 0.0"/>
        </external_part>
        <external_part name="Cameras" type="model" physics="surface">
            <physical>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Cameras.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </physical>
            <visual>
                <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Cameras.obj" scale="0.001"/>
                <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            </visual>
            <material name="Neutral"/>
            <look name="link4"/>
            <compound_transform rpy="3.1416 0.0 0.0" xyz="0.0 0.0 0.0"/>
        </external_part>
        <internal_part name="WeightCylinder" type="cylinder" physics="submerged" buoyant="false">
            <dimensions radius="0.02" height="0.6"/>
            <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
            <material name="Neutral"/>
            <mass value="2.0"/>
            <look name="manipulator"/>
            <compound_transform rpy="0.0 1.571 0.0" xyz="0.75 0.0 0.04"/>
        </internal_part>
    </base_link>

    <link name="Batteries" type="box" physics="submerged" buoyant="false">
        <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
        <dimensions xyz="0.2 0.08 0.08"/>
        <material name="Neutral"/>
        <look name="manipulator"/>	
        <mass value="5.5"/>
    </link>

    <link name="TCGWeight1" type="box" physics="surface" buoyant="false">
        <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.04"/>
        <dimensions xyz="0.02 0.02 0.02"/>
        <material name="Neutral"/>
        <look name="manipulator"/>	
        <mass value="1.0"/>
    </link>

    <link name="TCGWeight2" type="box" physics="surface" buoyant="false">
        <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.04"/>
        <dimensions xyz="0.02 0.02 0.02"/>
        <material name="Neutral"/>
        <look name="manipulator"/>	
        <mass value="1.0"/>
    </link>

    <link name="ThrusterYawFixture" type="sphere" physics="submerged" buoyant="false">
        <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
        <dimensions radius="0.001"/>
        <material name="Neutral"/>
        <look name="manipulator"/>	
        <mass value="0.0"/>
    </link>

    <link name="ThrusterLink" type="model" physics="submerged" buoyant="false">
        <physical>
            <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Dysa.obj" scale="0.001"/>
            <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
        </physical>
        <visual>
            <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Dysa.obj" scale="0.001"/>
            <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
        </visual>
        <material name="Neutral"/>
        <look name="manipulator"/>	
        <mass value="0.0"/>
    </link>

    <joint name="tcg_joint1" type="fixed">
        <parent name="Vehicle"/>
        <child name="TCGWeight1"/>
        <origin rpy="0.0 0.0 0.0" xyz="0.48 0.0 0.0"/>
        <axis xyz="1.0 0.0 0.0"/>
        <limits min="-1.6" max="1.6"/>
    </joint>

    <joint name="tcg_joint2" type="fixed">
        <parent name="Vehicle"/>
        <child name="TCGWeight2"/>
        <origin rpy="0.0 0.0 0.0" xyz="0.46 0.0 0.0"/>
        <axis xyz="1.0 0.0 0.0"/>
        <limits min="-1.6" max="1.6"/>
    </joint>

    <joint name="lcg_joint" type="prismatic">
        <parent name="Vehicle"/>
        <child name="Batteries"/>
        <origin rpy="0.0 0.0 0.0" xyz="0.75 0.0 0.0"/>
        <axis xyz="1.0 0.0 0.0"/>
        <limits min="-0.01" max="0.01"/>
    </joint>

    <joint name="joint1" type="revolute">
        <parent name="Vehicle"/>
        <child name="ThrusterYawFixture"/>
        <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
        <axis xyz="0.0 0.0 1.0"/>
        <limits min="-0.2" max="0.2"/>
    </joint>

    <joint name="joint2" type="revolute">
        <parent name="ThrusterYawFixture"/>
        <child name="ThrusterLink"/>
        <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
        <axis xyz="0.0 1.0 0.0"/>
        <limits min="-0.2" max="0.2"/>
    </joint>

    <!-- Actuators -->
    <actuator name="ThrusterSurge1" type="thruster">
        <link name="ThrusterLink"/>
        <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
        <specs thrust_coeff="0.2" torque_coeff="0.05" max_rpm="1000.0"/>
        <propeller diameter="0.12" right="true">
            <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Propeller_front.obj" scale="0.001"/>
            <material name="Neutral"/>
            <look name="propeller"/>
        </propeller>
    </actuator>

    <actuator name="ThrusterSurge2" type="thruster">
        <link name="ThrusterLink"/>
        <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
        <specs thrust_coeff="0.2" torque_coeff="0.05" max_rpm="1000.0"/>
        <propeller diameter="0.12" right="false">
            <mesh filename="$(find sam_stonefish_sim)/data/sam_auv/mesh_hd/Propeller_back.obj" scale="0.001"/>
            <material name="Neutral"/>
            <look name="propeller"/>
        </propeller>
    </actuator>

    <actuator name="StatusLED1" type="light">
        <link name="Vehicle"/>
        <origin rpy="0.0 0.01 0.0" xyz="0.3 0.0 -0.12"/>
        <specs illuminance="1000.0" cone_angle="10.0"/>
        <color rgb="0.0 256.0 0.0"/>
    </actuator> 
    <actuator name="StatusLED2" type="light">
        <link name="Vehicle"/>
        <origin rpy="0.0 0.01 0.0" xyz="0.32 0.0 -0.12"/>
        <specs illuminance="1000.0" cone_angle="10.0"/>
        <color rgb="256.0 0.0 0.0"/>
    </actuator> 
    <actuator name="FlashLED" type="light">
        <link name="Vehicle"/>
        <origin rpy="0.0 0.7 0.0" xyz="0.0 0.0 0.3"/>
        <specs illuminance="500.0" cone_angle="60.0"/>
        <color rgb="256.0 256.0 256.0"/>
    </actuator> 

    <actuator name="ServoLCG" type="servo">
        <joint name="lcg_joint"/>
        <controller position_gain="1.0" velocity_gain="0.0" max_torque="100.0"/>
    </actuator> 

    <actuator name="Servo1" type="servo">
        <joint name="joint1"/>
        <controller position_gain="0.1" velocity_gain="0.0" max_torque="10.0"/>
    </actuator> 

    <actuator name="Servo2" type="servo">
        <joint name="joint2"/>
        <controller position_gain="0.1" velocity_gain="0.0" max_torque="10.0"/>
    </actuator> 

    <!-- Sensors -->
    <sensor name="dynamics" type="odometry" rate="30.0">
        <link name="Vehicle"/>
        <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
        <ros_publisher topic="/$(param robot_name)/dynamics/odometry"/>
    </sensor>

    <sensor name="pressure_link" type="pressure" rate="5.0">
        <link name="Vehicle"/>
        <origin rpy="0.0 0.0 0.0" xyz="0.3 0.0 0.07"/>
        <noise pressure="5.0"/>
        <ros_publisher topic="/$(param robot_name)/core/pressure_fb"/>
    </sensor>

    <sensor name="dvl_link" type="dvl" rate="5.0">
        <link name="Vehicle"/>
        <origin rpy="3.1416 0.0 -0.785" xyz="1.25 0.0 0.07"/>
        <specs beam_angle="30.0"/>
        <range velocity="9.0 9.0 9.0" altitude_min="0.5" altitude_max="81.0"/>
        <noise velocity="0.0015" altitude="0.001"/>
        <ros_publisher topic="/$(param robot_name)/core/dvl"/>
    </sensor>

    <sensor name="imu_link" type="imu" rate="20.0">
        <link name="Vehicle"/>
        <origin rpy="0.0 0.0 0.0" xyz="0.9 0.0 0.0"/>
        <noise angle="0.000001745" angular_velocity="0.00001745"/>
        <ros_publisher topic="/$(param robot_name)/core/imu"/>
    </sensor>

    <sensor name="gps_link" type="gps" rate="1.0">
        <link name="Vehicle"/>
        <origin rpy="0.0 0.0 0.0" xyz="1.2 0.0 -0.08"/>
        <noise ned_position="0.5"/>
        <ros_publisher topic="/$(param robot_name)/core/gps"/>
    </sensor>

    <sensor name="camera_down_link" type="camera" rate="5.0">
        <link name="Vehicle"/>
        <origin rpy="0.0 0.0 1.5708" xyz="1.15 0.0 0.07"/>
        <specs resolution_x="1360" resolution_y="1024" horizontal_fov="55.0"/>
        <ros_publisher topic="/$(param robot_name)/perception/camera_down"/>
    </sensor>

    <sensor name="camera_front_left_link" type="camera" rate="5.0">
        <link name="Vehicle"/>
        <origin rpy="1.3 0.0 1.0708" xyz="1.32 -0.05 0.005"/>
        <specs resolution_x="1360" resolution_y="1024" horizontal_fov="55.0"/>
        <ros_publisher topic="/$(param robot_name)/perception/camera_front_left"/>
    </sensor>

    <sensor name="camera_front_right_link" type="camera" rate="5.0">
        <link name="Vehicle"/>
        <origin rpy="1.3 0.0 2.0708" xyz="1.32 0.05 0.005"/>
        <specs resolution_x="1360" resolution_y="1024" horizontal_fov="55.0"/>
        <ros_publisher topic="/$(param robot_name)/perception/camera_front_right"/>
    </sensor>

    <sensor name="multibeam_down_link" type="multibeam1d" rate="5.0">
        <link name="Vehicle"/>
        <origin rpy="0.0 -1.5707 0.0" xyz="1.20 0.0 0.07"/>
        <specs fov="90.0" steps="50"/>
        <history samples="-1"/>
        <range distance_min="0.5" distance_max="150.0"/>
        <noise distance="0.001"/>
        <ros_publisher topic="/$(param robot_name)/perception/mbes_down"/>
    </sensor>

    <world_transform rpy="0.0 0.0 0.0" xyz="0.0 0.0 4.0"/>

    <ros_publisher servos="/$(param robot_name)/joint_states"/>
    <ros_subscriber thrusters="/$(param robot_name)/thruster_setpoints" servos="/$(param robot_name)/desired_joint_states" lights="/lights"/> 
    <ros_base_link_transforms publish="true"/>
</robot>
</scenario>
