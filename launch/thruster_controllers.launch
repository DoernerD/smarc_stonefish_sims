<launch>

  <arg name="carrot_dist" default="10."/>
  <arg name="robot_name" default="sam_auv"/>
  <arg name="base_frame" default="sam_auv/base_link"/>
  <arg name="thrust_level" default="2."/>

  <node name="carrot_controller" pkg="sam_stonefish_sim" type="carrot_controller.py" output="screen">
    <param name="carrot_dist" value="$(arg carrot_dist)" />
    <param name="base_frame" value="$(arg base_frame)" />
    <param name="thrust_level" value="$(arg thrust_level)" />
    <remap from="rpm_cmd" to="/$(arg robot_name)/core/rpm_cmd" />
    <remap from="thrust_vector_cmd" to="/$(arg robot_name)/core/thrust_vector_cmd" />
  </node>

  <node name="controller" pkg="pid" type="controller" ns="vertical" output="screen" respawn="true">
    <param name="node_name" value="vertical_fins_pid" />
    <param name="Kp" value="0.03" />
    <param name="Ki" value="0.0" />
    <param name="Kd" value="0.0" />
    <param name="upper_limit" value="0.5" />
    <param name="lower_limit" value="-0.5" />
    <param name="windup_limit" value="1000" />
    <param name="max_loop_frequency" value="100.0" />
    <param name="min_loop_frequency" value="1.0" />
    <remap from="setpoint" to="/$(arg robot_name)/ctrl/setpoint" />
  </node>

  <node name="controller" pkg="pid" type="controller" ns="lateral" output="screen" respawn="true">
    <param name="node_name" value="horizontal_fins_pid" />
    <param name="Kp" value="0.03" />
    <param name="Ki" value="0.0" />
    <param name="Kd" value="0.0" />
    <param name="upper_limit" value="0.5" />
    <param name="lower_limit" value="-0.5" />
    <param name="windup_limit" value="1000" />
    <param name="max_loop_frequency" value="100.0" />
    <param name="min_loop_frequency" value="1.0" />
    <remap from="setpoint" to="/$(arg robot_name)/ctrl/setpoint" />
  </node>

</launch>
